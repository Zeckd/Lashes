# Lashes Studio - –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏–µ–º

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ–±-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏–µ–º –≤ —Å–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ (email + –ø–∞—Ä–æ–ª—å)
- ‚úÖ –§—É–Ω–∫—Ü–∏—è "–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è"
- ‚úÖ –í—ã–±–æ—Ä –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∑–∞–ø–∏—Å–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ –∏ —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø–∏—Å–µ–π

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Spring Boot 3.5.0, Spring Security, JWT
- **Database**: PostgreSQL
- **Frontend**: HTML5, CSS3, JavaScript, Bootstrap 5
- **Authentication**: JWT —Ç–æ–∫–µ–Ω—ã —Å —Ñ—É–Ω–∫—Ü–∏–µ–π "–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è"
- **Deployment**: Docker, Google Cloud Platform

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 17+
- Maven 3.6+
- PostgreSQL 12+
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```bash
   git clone <repository-url>
   cd lashes
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
   ```bash
   # –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL
   createdb lashes
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   ```bash
   export SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/lashes
   export SPRING_DATASOURCE_USERNAME=postgres
   export SPRING_DATASOURCE_PASSWORD=your_password
   export JWT_SECRET=your_jwt_secret_key
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   ```bash
   ./mvnw spring-boot:run
   ```

5. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä**
   - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: http://localhost:8080
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: http://localhost:8080/register
   - –í—Ö–æ–¥: http://localhost:8080/login

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –∑–∞—Ç–µ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–∏—Ç–µ —Ä–æ–ª—å –Ω–∞ ADMIN:

```sql
UPDATE users SET role = 'ADMIN' WHERE email = 'your_admin_email@example.com';
```

## üê≥ Docker

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –°–±–æ—Ä–∫–∞ JAR —Ñ–∞–π–ª–∞
./mvnw clean package -DskipTests

# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
docker build -t lashes-app .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8080:8080 \
  -e SPRING_DATASOURCE_URL=jdbc:postgresql://host.docker.internal:5432/lashes \
  -e SPRING_DATASOURCE_USERNAME=postgres \
  -e SPRING_DATASOURCE_PASSWORD=your_password \
  -e JWT_SECRET=your_jwt_secret_key \
  lashes-app
```

## ‚òÅÔ∏è –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Google Cloud

### –í–∞—Ä–∏–∞–Ω—Ç 1: Google App Engine

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Google Cloud SDK**
   ```bash
   # –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ gcloud CLI
   # https://cloud.google.com/sdk/docs/install
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç**
   ```bash
   gcloud init
   gcloud config set project YOUR_PROJECT_ID
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Cloud SQL**
   ```bash
   # –°–æ–∑–¥–∞–π—Ç–µ Cloud SQL instance
   gcloud sql instances create lashes-db \
     --database-version=POSTGRES_13 \
     --tier=db-f1-micro \
     --region=us-central1
   
   # –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   gcloud sql databases create lashes --instance=lashes-db
   ```

4. **–û–±–Ω–æ–≤–∏—Ç–µ app.yaml**
   ```yaml
   env_variables:
     SPRING_DATASOURCE_URL: "jdbc:postgresql://google/lashes?cloudSqlInstance=YOUR_PROJECT_ID:us-central1:lashes-db&socketFactory=com.google.cloud.sql.postgres.SocketFactory"
     SPRING_DATASOURCE_USERNAME: "postgres"
     SPRING_DATASOURCE_PASSWORD: "your_password"
   ```

5. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   ```bash
   gcloud app deploy
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Google Cloud Run

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Cloud Build**
   ```bash
   gcloud builds submit --config cloudbuild.yaml
   ```

2. **–ò–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é**
   ```bash
   # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
   docker build -t gcr.io/YOUR_PROJECT_ID/lashes-app .
   
   # –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Container Registry
   docker push gcr.io/YOUR_PROJECT_ID/lashes-app
   
   # –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Cloud Run
   gcloud run deploy lashes-app \
     --image gcr.io/YOUR_PROJECT_ID/lashes-app \
     --platform managed \
     --region us-central1 \
     --allow-unauthenticated \
     --port 8080 \
     --set-env-vars SPRING_PROFILES_ACTIVE=production,JWT_SECRET=your_jwt_secret
   ```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `SPRING_DATASOURCE_URL` | URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | `jdbc:postgresql://localhost:5432/lashes` |
| `SPRING_DATASOURCE_USERNAME` | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î | `postgres` |
| `SPRING_DATASOURCE_PASSWORD` | –ü–∞—Ä–æ–ª—å –ë–î | `password` |
| `JWT_SECRET` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT | `mySecretKeyForJWTTokenGeneration123456789` |
| `PORT` | –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | `8080` |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ JWT

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ `JWT_SECRET` –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–ª—é—á:

```bash
export JWT_SECRET=$(openssl rand -base64 32)
```

## üì± API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥
- `POST /api/auth/logout` - –í—ã—Ö–æ–¥
- `GET /api/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –ó–∞–ø–∏—Å–∏ (—Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- `POST /api/appointments` - –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å
- `GET /api/appointments/my` - –ú–æ–∏ –∑–∞–ø–∏—Å–∏
- `GET /api/appointments/taken-times` - –ó–∞–Ω—è—Ç—ã–µ –≤—Ä–µ–º–µ–Ω–∞

### –ê–¥–º–∏–Ω (—Ç—Ä–µ–±—É–µ—Ç —Ä–æ–ª—å ADMIN)
- `GET /api/admin/appointments` - –í—Å–µ –∑–∞–ø–∏—Å–∏
- `GET /api/admin/appointments/date/{date}` - –ó–∞–ø–∏—Å–∏ –ø–æ –¥–∞—Ç–µ
- `PUT /api/admin/appointments/{id}/status` - –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `DELETE /api/admin/appointments/{id}` - –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
- `GET /api/admin/appointments/statistics` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üé® –î–∏–∑–∞–π–Ω

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å:
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º–∏ —Ñ–æ–Ω–∞–º–∏
- –ü–ª–∞–≤–Ω—ã–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–π –≤–µ—Ä—Å—Ç–∫–æ–π
- –ù–µ–æ–Ω–æ–≤—ã–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏
- –£–¥–æ–±–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —Å BCrypt
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è Lashes Studio**
